# Universal Predictor

ä¸€ä¸ªåŸºäº Next.js çš„é¢„æµ‹å¸‚åœºå¹³å°ï¼Œæ”¯æŒä»åç«¯APIè·å–æ•°æ®å¹¶å±•ç¤ºé¢„æµ‹å¸‚åœºå¡ç‰‡ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ“Š é¢„æµ‹å¸‚åœºå¡ç‰‡å±•ç¤ºï¼ˆæ”¯æŒå¤šé€‰é¡¹å’ŒYes/Noä¸¤ç§ç±»å‹ï¼‰
- ğŸ·ï¸ æ ‡ç­¾ç­›é€‰åŠŸèƒ½
- ğŸ“„ åˆ†é¡µæ”¯æŒ
- ğŸ” æ’åºåŠŸèƒ½ï¼ˆæŒ‰Volumeæˆ–Liquidityï¼‰
- ğŸ“± å“åº”å¼è®¾è®¡ï¼Œæ”¯æŒç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯
- ğŸŒ™ æ·±è‰²æ¨¡å¼æ”¯æŒ
- ğŸ”— å¡ç‰‡è¯¦æƒ…é¡µé¢

## æŠ€æœ¯æ ˆ

- **Framework**: Next.js 14+ (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS
- **State Management**: TanStack Query (React Query)
- **HTTP Client**: Axios

## å¼€å§‹ä½¿ç”¨

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. é…ç½®APIåœ°å€

åˆ›å»º `.env.local` æ–‡ä»¶ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼Œå¹¶é…ç½®åç«¯APIåœ°å€ï¼š

```env
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
```

å¦‚æœä¸é…ç½®ï¼Œé»˜è®¤ä½¿ç”¨ `http://localhost:8000`ã€‚

### 3. é…ç½®æ ‡ç­¾æ˜ å°„

åœ¨ `app/page.tsx` ä¸­ï¼Œæœ‰ä¸€ä¸ª `TAG_NAME_TO_ID_MAP` å¯¹è±¡ï¼Œç”¨äºå°†å‰ç«¯æ ‡ç­¾åç§°æ˜ å°„åˆ°åç«¯çš„tagIdã€‚è¯·æ ¹æ®ä½ çš„åç«¯APIå®é™…è¿”å›çš„æ ‡ç­¾æ•°æ®æ¥è°ƒæ•´è¿™ä¸ªæ˜ å°„ï¼š

```typescript
const TAG_NAME_TO_ID_MAP: Record<string, string> = {
  'Politics': 'politics',
  'Crypto': '21',
  'Finance': '120',
  // ... æ ¹æ®å®é™…APIè¿”å›çš„æ ‡ç­¾IDè¿›è¡Œè°ƒæ•´
};
```

### 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

æ‰“å¼€ [http://localhost:3000](http://localhost:3000) æŸ¥çœ‹åº”ç”¨ã€‚

## APIæ¥å£

åº”ç”¨éœ€è¦åç«¯æä¾›ä»¥ä¸‹ä¸¤ä¸ªæ¥å£ï¼š

### 1. è·å–å¡ç‰‡åˆ—è¡¨

**æ¥å£**: `GET /card/list`

**å‚æ•°**:
- `page`: é¡µç ï¼ˆé»˜è®¤: 1ï¼‰
- `pageSize`: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤: 20ï¼‰
- `tagId`: æ ‡ç­¾IDï¼ˆå¯é€‰ï¼‰
- `sortBy`: æ’åºå­—æ®µ ("volume" | "liquidity", å¯é€‰)
- `order`: æ’åºæ–¹å‘ ("asc" | "desc", å¯é€‰)

### 2. è·å–å¡ç‰‡è¯¦æƒ…

**æ¥å£**: `GET /card/details`

**å‚æ•°**:
- `id`: å¡ç‰‡ID

è¯¦ç»†çš„æ•°æ®ç»“æ„å®šä¹‰è¯·å‚è€ƒ `types/market.ts` æ–‡ä»¶ã€‚

## é¡¹ç›®ç»“æ„

```
universal_predictor/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ page.tsx              # ä¸»é¡µé¢ï¼ˆåˆ—è¡¨é¡µï¼‰
â”‚   â”œâ”€â”€ card/[id]/page.tsx   # å¡ç‰‡è¯¦æƒ…é¡µ
â”‚   â”œâ”€â”€ layout.tsx           # æ ¹å¸ƒå±€
â”‚   â””â”€â”€ globals.css          # å…¨å±€æ ·å¼
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ Navbar.tsx           # å¯¼èˆªæ 
â”‚   â”œâ”€â”€ FilterTags.tsx       # è¿‡æ»¤æ ‡ç­¾ç»„ä»¶
â”‚   â”œâ”€â”€ MarketCard.tsx       # å¸‚åœºå¡ç‰‡å®¹å™¨
â”‚   â”œâ”€â”€ MultipleOptionCard.tsx  # å¤šé€‰é¡¹å¡ç‰‡
â”‚   â”œâ”€â”€ YesNoCard.tsx        # Yes/Noå¡ç‰‡
â”‚   â””â”€â”€ Providers.tsx        # React Query Provider
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ api.ts               # APIæœåŠ¡å‡½æ•°
â”‚   â””â”€â”€ queryClient.ts      # React Queryé…ç½®
â””â”€â”€ types/
    â””â”€â”€ market.ts            # TypeScriptç±»å‹å®šä¹‰
```

## å¡ç‰‡ç±»å‹

åº”ç”¨æ”¯æŒä¸¤ç§å¡ç‰‡ç±»å‹ï¼š

1. **å¤šé€‰é¡¹å¡ç‰‡**: å½“å¡ç‰‡åŒ…å«å¤šä¸ªmarketsæ—¶ï¼Œæ˜¾ç¤ºä¸ºå¤šé€‰é¡¹å¡ç‰‡ï¼Œåªæ˜¾ç¤ºæ¦‚ç‡ï¼Œä¸æ˜¾ç¤ºYes/NoæŒ‰é’®
2. **Yes/Noå¡ç‰‡**: å½“å¡ç‰‡åªåŒ…å«ä¸€ä¸ªmarketæ—¶ï¼Œæ˜¾ç¤ºä¸ºYes/Noå¡ç‰‡ï¼Œæ˜¾ç¤ºåœ†å½¢è¿›åº¦æ¡çš„chanceï¼Œå¹¶ä¿ç•™Yes/NoæŒ‰é’®

## å¼€å‘

```bash
# å¼€å‘æ¨¡å¼
npm run dev

# æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run build

# å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨
npm start

# ä»£ç æ£€æŸ¥
npm run lint
```

## æ³¨æ„äº‹é¡¹

- ç¡®ä¿åç«¯APIæœåŠ¡æ­£åœ¨è¿è¡Œ
- æ ¹æ®å®é™…åç«¯è¿”å›çš„æ ‡ç­¾æ•°æ®è°ƒæ•´ `TAG_NAME_TO_ID_MAP` æ˜ å°„
- å›¾ç‰‡URLéœ€è¦æ”¯æŒè·¨åŸŸè®¿é—®ï¼ˆæˆ–é…ç½®Next.jsçš„å›¾ç‰‡åŸŸåç™½åå•ï¼‰
